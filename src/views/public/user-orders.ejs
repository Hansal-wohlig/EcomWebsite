<%- include('../partials/header') %>

<!-- Video Background -->
<video class="video-bg" autoplay muted loop>
  <source src="/videos/hero-video.mp4" type="video/mp4">
</video>

<div class="orders-container">
  <h1>My Orders</h1>
  
  <% if (orders && orders.length > 0) { %>
    <div class="orders-grid">
      <% orders.forEach(order => { %>
        <div class="order-card">
          <div class="order-header">
            <h3>Order #<%= order._id.toString().slice(-8) %></h3>
            <span class="order-date"><%= order.createdAt.toLocaleDateString('en-US', { 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric',
              hour: '2-digit',
              minute: '2-digit'
            }) %></span>
          </div>
          
          <div class="order-products">
            <% order.products.forEach(product => { %>
              <div class="order-product">
                <div class="product-image">
                  <% if (product.product && product.product.images && product.product.images.length > 0) { %>
                    <img src="/uploads/<%= product.product.images[0] %>" alt="<%= product.name %>">
                  <% } else { %>
                    <div class="no-image">No Image</div>
                  <% } %>
                </div>
                <div class="product-details">
                  <h4><%= product.name %></h4>
                  <p class="product-quantity">Quantity: <%= product.quantity %></p>
                  <p class="product-price">₹<%= product.price %></p>
                </div>
              </div>
            <% }) %>
          </div>
          
          <div class="order-total">
            <strong>Total: ₹<%= order.total %></strong>
          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <div class="empty-orders">
      <h2>No Orders Yet</h2>
      <p>You haven't placed any orders yet. Start shopping to see your orders here!</p>
      <a href="/products" class="btn">Browse Products</a>
    </div>
  <% } %>
</div>

<%- include('../partials/footer') %> 